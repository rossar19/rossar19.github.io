---
layout: default
title: Messing Around
header: Testing Things Out
---
<svg width="600" height="600"></svg>

<script>
  var draw = function(data) {

    var svg = d3.select("svg");

    var circles = svg.selectAll("circle").data(data);

    // Lowest and highest value as an array
    var dataExtent = d3.extent(data, function(d, i) {
      return d.values.length;
    });

    var radius = d3.scaleLinear()
    .domain(dataExtent)
    .range([25, 50]);

    circles.enter().append("circle")
    .attr("cy", 60)
    .attr("cx", function(d, i) {
      return 60 + (120*i); // i == 0 ? 60 : 100;
    })
    .attr("r", function(d, i) {
      return radius(d.values.length);
    });
  };

  d3.csv("csvData.csv", function(error, data) {
    // draw(file);

    data = data.filter(function(dataPoint, indexOfDP) {
      return indexOfDP != 0;
    });

    // Generator function - nesting data, basically grouping
    var nestedData = d3.nest()
    .key(function(dataPoint, indexOfDP) {
      return dataPoint.Gender; // set key to be this
    })
    // .key(function(dataPoint, indexOfDP) {
    //
    //   // Grouping the grouped --> filter by gender, then filter that
    //   // nested data by Household Income
    //   return dataPoint["Household Income"];
    // })
    .entries(data); //entries has to be last

    nestedData = nestedData.filter(function(dataPoint, indexOfDP) {
      return dataPoint.key != "";
    });

    console.log(nestedData);
    draw(nestedData);
  })
</script>
